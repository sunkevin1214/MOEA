%% 描绘整体的那个示意图
% d1是曲线部分
clc;clear;
% d1 = [
%     0.109111161	0.810800783
% 0.109111161	0.78241584
% 0.110982401	0.756611347
% 0.112853642	0.733387304
% 0.116596124	0.71016326
% 0.120338605	0.684358767
% 0.122209846	0.658554274
% 0.125952328	0.627588882
% 0.13156605	0.59920394
% 0.137179773	0.570818998
% 0.146535977	0.539853606
% 0.15402094	0.514049113
% 0.163377144	0.490825069
% 0.172733348	0.467601025
% 0.185832034	0.441796532
% 0.195188238	0.421152938
% 0.204544442	0.403089793
% 0.217643128	0.385026648
% 0.226999332	0.369543952
% 0.236355536	0.354061256
% 0.247582981	0.33857856
% 0.262552907	0.323095865
% 0.275651593	0.307613169
% 0.290621519	0.289550024
% 0.307462687	0.274067328
% 0.324303854	0.258584632
% 0.33927378	0.243101936
% 0.356114948	0.23019969
% 0.374827356	0.219877892
% 0.393539764	0.204395197
% 0.412252172	0.196653849
% 0.43096458	0.186332052
% 0.45341947	0.176010254
% 0.472131878	0.165688457
% 0.490844286	0.157947109
% 0.507685453	0.150205761
% 0.524526621	0.142464413
% 0.54511027	0.137303515
% 0.565693918	0.129562167
% 0.584406327	0.124401268
% 0.601247494	0.11665992
% 0.61621742	0.111499022
% ];
d2 = [

0.631187347	0.111499022
0.646157273	0.111499022
0.6611272	0.111499022
0.674225885	0.111499022
0.68545333	0.111499022
0.696680775	0.111499022
0.711650702	0.111499022
0.724749387	0.111499022
0.741590555	0.111499022
0.752818	0.111499022
0.764045444	0.111499022
0.780886612	0.111499022
0.795856538	0.114079471
0.810826465	0.114079471
0.820182669	0.11924037
0.835152595	0.126981718
0.855736244	0.134723066
0.870706171	0.142464413
0.883804856	0.157947109
0.895032301	0.178590704
0.904388505	0.199234298
0.908130987	0.222458342
0.910002228	0.240521487
0.910002228	0.263745531
0.910002228	0.284389125
0.908130987	0.315354517
0.900646024	0.333417662
0.889418579	0.348900358
0.874448652	0.359222155
0.857607485	0.366963503
0.837023836	0.3772853
0.820182669	0.382446198
0.797727779	0.392767996
0.77714413	0.400509344
0.75468924	0.41341159
0.735976832	0.428894286
0.724749387	0.446957431
0.719135665	0.467601025
0.719135665	0.483083721
0.719135665	0.501146866
0.717264424	0.526951359
0.719135665	0.5604972
0.721006906	0.588882143
0.715393183	0.617267085
0.70790822	0.637910679
0.692938294	0.650812926
0.677968367	0.661134723
0.659255959	0.668876071
0.642414792	0.67403697
0.621831143	0.67403697
0.604989975	0.679197868
0.582535086	0.679197868
0.561951437	0.684358767
0.535754065	0.684358767
0.515170417	0.689519665
0.496458008	0.694680564
0.479616841	0.702421912
0.460904433	0.71016326
0.445934507	0.725645956
0.43096458	0.741128651
0.421608376	0.756611347
0.40850969	0.774674492
0.397282245	0.787576739
0.387926041	0.800478985
0.380441078	0.810800783
0.372956115	0.826283478
0.363599911	0.844346623
0.352372466	0.862409769
0.343016262	0.877892464
0.326175095	0.89337516
0.309333927	0.906277407
0.296235242	0.919179653
0.283136556	0.926921001
0.271909111	0.934662349
0.258810425	0.942403697
0.24571174	0.947564596
0.228870573	0.952725494
0.215771887	0.955305943
0.19893072	0.955305943
0.182089552	0.955305943
0.167119626	0.952725494
0.152149699	0.942403697
0.135308532	0.9320819
0.124081087	0.911438305
0.118467365	0.89595561
0.112853642	0.877892464
0.110982401	0.854668421
0.109111161	0.836605276
0.109111161	0.810800783
]; 
%分别选择椭圆的2个点
left_p = d2(end,:);
down_p = d2(1,:);
a = down_p(1) - left_p(1);
b = left_p(2) - down_p(2);
c1 = down_p(1);
c2 = left_p(2);
x = linspace(left_p(1), down_p(1), 100);
y = c2 - sqrt((a^2*b^2 - b^2.*(x-c1).^2)./a^2);
d1 = [x' y'];
d1 = [0.109111161	0.810800783; d1];




d11 = d1(:,1);
d12 = d1(:,2);
plot(d1(:,1), d1(:,2), 'linestyle', '-', 'Color', 'Black', 'Linewidth', 5);
hold on;
plot(d2(:,1), d2(:,2), 'linestyle', '-', 'Color', 'Black', 'linewidth', 3);
d = [d1;d2];
c = [210,220,250]./255;
patch(d(:,1), d(:,2), c, 'linestyle', 'none');
axis off;
% 绘制横坐标
x_axis = [0 0; 1 0];
% annotation('arrow',x_axis(:,1), x_axis(:,2)) ;
plot(x_axis(:,1), x_axis(:,2), 'linestyle', '-', 'color', 'black');
arrow([0 0], [1.1, 0], 'Width', 1.5);
arrow([0 0], [0, 1.1], 'Width', 1.5);
text(1.11, 0, 'f_1');
text(-0.06, 1.05, 'f_2');

[~, index1] = min(d1(:,2));
[~, index2] = min(d1(:,1));
extreme_1 = d1(index1,:);
extreme_1(2) = extreme_1(2)-0.01;
text(0.50, 0.06, 'Extreme point');
extreme_2 = d1(index2,:);
extreme_2(1) = extreme_2(1)-0.005;

text(0.12, 0.75, 'Extreme point');
ideal_point = [min(extreme_1), min(extreme_2)];
ideal_point(1) = ideal_point(1) + 0.01;
nadir_point = [max(extreme_1), max(extreme_2)];
% 
%extreme1到ideal_point的线
l1 = [extreme_1;ideal_point];
plot(l1(:,1), l1(:,2), 'linestyle', '--', 'color', 'black', 'linewidth', 1.5);
%extreme2到ideal_point的线
l2 = [extreme_2;ideal_point];
plot(l2(:,1), l2(:,2), 'linestyle', '--', 'color', 'black', 'linewidth', 1.5);
%绘制这个ideal的点
plot(ideal_point(1), ideal_point(2), 'linestyle', 'none', 'marker', 'o', 'markeredgecolor', 'black', 'markerfacecolor', c);
%加ideal point的label
text(0.04, 0.06, 'Ideal point');

%绘制extreme1到nadir point的线
l3 = [extreme_1; nadir_point];
plot(l3(:,1), l3(:,2), 'linestyle', '--', 'color', 'black', 'linewidth', 1.5);
%绘制extreme2到nadir point的线
l4 = [extreme_2; nadir_point];
plot(l4(:,1), l4(:,2), 'linestyle', '--', 'color', 'black', 'linewidth', 1.5);
%绘制nadir point
plot(nadir_point(1), nadir_point(2), 'linestyle', 'none', 'marker', 'o', 'markeredgecolor', 'black', 'markerfacecolor', c);
text(0.55, 0.86, 'Nadir point');

%绘制2个extreme points
plot(extreme_1(1), extreme_1(2), 'linestyle', 'none', 'marker', 'o', 'markeredgecolor', 'black', 'markerfacecolor', c);
plot(extreme_2(1), extreme_2(2), 'linestyle', 'none', 'marker', 'o', 'markeredgecolor', 'black', 'markerfacecolor', c);

%最不好的点
worst1 = d2(23,:);
worst1(1) = worst1(1)+0.004;
worst2 = d2(78,:);
worst2(2) = worst2(2)+0.005;
worst = [max(worst1), max(worst2)];
%worst1到worst的线
l5 = [worst1; worst];
plot(l5(:,1), l5(:,2), 'linestyle', '--', 'color', 'black', 'linewidth', 1.5);
%worst2刀worst的线
l6 = [worst2; worst];
plot(l6(:,1), l6(:,2), 'linestyle', '--', 'color', 'black', 'linewidth', 1.5);
%绘制worst point以及label
plot(worst(1), worst(2), 'linestyle', 'none', 'marker', 'o', 'markeredgecolor', 'black', 'markerfacecolor', c);
text(0.80, 1.02, 'Worst point');
%绘制其余2个worst point
plot(worst1(1), worst1(2), 'linestyle', 'none', 'marker', 'o', 'markeredgecolor', 'black', 'markerfacecolor', c);
plot(worst2(1), worst2(2), 'linestyle', 'none', 'marker', 'o', 'markeredgecolor', 'black', 'markerfacecolor', c);

%添加pf的字样
text(0.18, 0.3, 'PF');


%%测试pf找一个椭圆来拟合
% center = [0.6162, 0.8108];
% a = center(2) - 0.1015-0.01;
% b = center(1) - 0.1041-0.01;
% x = linspace(0.1041, 0.6162, 10000);
% y = 0.8108 - sqrt((a^2*b^2-(x-0.6162).^2*0.5031)./b^2);
% plot(x, y, 'linestyle', '-', 'Color', 'black', 'linewidth', 4);
% ezplot('(x-0.6162)^2*0.5031+(y-0.8108)^2*0.2623=0.5031*0.2623')
